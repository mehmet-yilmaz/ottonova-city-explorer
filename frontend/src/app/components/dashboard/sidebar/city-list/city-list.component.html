<table
  mat-table
  [dataSource]="sortedCities()"
  matSort
  (matSortChange)="onSortUpdated($event)"
  class="mat-elevation-z8"
>
  <!-- ID Column -->
  <ng-container matColumnDef="position">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by number"
    >
      No.
    </th>
    <td mat-cell *matCellDef="let element">{{ element.id }}</td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by name"
    >
      Name
    </th>
    <td mat-cell *matCellDef="let element">{{ element.name }}</td>
  </ng-container>

  <!-- Country Column -->
  <ng-container matColumnDef="country">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by Country"
    >
      Country
    </th>
    <td mat-cell *matCellDef="let element">{{ element.country }}</td>
  </ng-container>

  <!-- Continent Column -->
  <ng-container matColumnDef="continent">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by Continent"
    >
      Continent
    </th>
    <td mat-cell *matCellDef="let element">{{ element.continent }}</td>
  </ng-container>

  <!-- population Column -->
  <ng-container matColumnDef="population">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by population"
    >
      Population
    </th>
    <td mat-cell *matCellDef="let element">{{ element.population }}</td>
  </ng-container>

  <!-- Edit Column -->
  <ng-container matColumnDef="edit">
    <th mat-header-cell *matHeaderCellDef>Edit</th>
    <td mat-cell *matCellDef="let element">
      <button mat-icon-button (click)="editCity(element)">
        <mat-icon class="mat-18">edit</mat-icon>
      </button>
    </td>
  </ng-container>

  <!-- Delete Column -->
  <ng-container matColumnDef="delete">
    <th mat-header-cell *matHeaderCellDef>Delete</th>
    <td mat-cell *matCellDef="let element">
      <button mat-icon-button (click)="confirmDelete(element)">
        <mat-icon class="mat-18">delete</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="cityService.displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: cityService.displayedColumns"></tr>
</table>

<!-- Pagination Controls -->
<mat-paginator
  [length]="cityService.totalCities()"
  [pageSize]="cityService.limit()"
  [pageIndex]="cityService.page() - 1"
  [pageSizeOptions]="[5, 10, 25]"
  (page)="changePage($event)"
>
</mat-paginator>
